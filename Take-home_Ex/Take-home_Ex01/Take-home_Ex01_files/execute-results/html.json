{
  "hash": "281c2cb98e6743ad846f7cec1cd37955",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take Home Exercise 1\"\nauthor: \"Maaruni\"\nexecute: \n  warning: false\ndate: 01/22/2024\ndate-modified: \"2024-01-31\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, spNetwork, tmap, classInt, viridis, tidyverse, list)\n```\n:::\n\n\nWhat are the different layers available as part of the gis dataset? Let us analyse the file structure. Lets add only the road layer with the name 'gis_osm_roads_free_1':\n\n\n::: {.cell}\n\n```{.r .cell-code}\nroad_network <- st_read(dsn = \"../../data/takehomeassigment1/malaysia-singapore-brunei-latest-free/\", layer = \"gis_osm_roads_free_1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `gis_osm_roads_free_1' from data source \n  `/Users/maarunipandithurai/Documents/maars202/geospatial/IS415-GAA/data/takehomeassigment1/malaysia-singapore-brunei-latest-free' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1766969 features and 10 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 99.66041 ymin: 0.8021131 xmax: 119.2601 ymax: 7.514393\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# typeof(road_network)  #<-- list type\nroad_network\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 1766969 features and 10 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 99.66041 ymin: 0.8021131 xmax: 119.2601 ymax: 7.514393\nGeodetic CRS:  WGS 84\nFirst 10 features:\n    osm_id code      fclass                   name  ref oneway maxspeed layer\n1  4386520 5113     primary           Orchard Road <NA>      F       50     0\n2  4578273 5114   secondary    Jalan Bukit Bintang <NA>      F        0     0\n3  4579495 5122 residential         Jalan Nagasari <NA>      B        0     0\n4  4579533 5122 residential  Persiaran Raja Chulan <NA>      B        0     0\n5  4579534 5122 residential           Jalan Ceylon <NA>      B        0     0\n6  4579536 5122 residential Changkat Bukit Bintang <NA>      F        0     0\n7  4584656 5141     service                   <NA> <NA>      F        0    -1\n8  4585475 5122 residential       Jalan Hang Lekir <NA>      F        0     0\n9  4585480 5122 residential           Jalan Beremi <NA>      F        0     0\n10 4585482 5122 residential         Jalan Berangan <NA>      F        0     0\n   bridge tunnel                       geometry\n1       F      F LINESTRING (103.8301 1.3060...\n2       F      F LINESTRING (101.7226 3.1478...\n3       F      F LINESTRING (101.7084 3.1473...\n4       F      F LINESTRING (101.7043 3.1468...\n5       F      F LINESTRING (101.7033 3.1476...\n6       F      F LINESTRING (101.7088 3.1470...\n7       F      T LINESTRING (101.6995 3.1470...\n8       F      F LINESTRING (101.6959 3.1443...\n9       F      F LINESTRING (101.71 3.1473, ...\n10      F      F LINESTRING (101.7103 3.1472...\n```\n\n\n:::\n:::\n\n\nget maximum and minimum of each geometry point and see if it lies in boundayr of Singapore â€“ then filter these rows and use map to plot only singapore geometry lines\n\nmaybe can use this strategy:\n\n<https://stackoverflow.com/questions/60532357/extracting-min-and-max-coordinates-from-multipolygon-into-separate-columns>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nroad_network$geometry[1]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nGeometry set for 1 feature \nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 103.8301 ymin: 1.305992 xmax: 103.8301 ymax: 1.306018\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbbox <- road_network %>% st_bbox()\nbbox\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       xmin        ymin        xmax        ymax \n 99.6604116   0.8021131 119.2600995   7.5143933 \n```\n\n\n:::\n:::\n\n\n```{![Elephant](../../../img/class2_1.jpg)}\n```\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(getwd())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"/Users/maarunipandithurai/Documents/maars202/geospatial/IS415-GAA/Take-home_Ex/Take-home_Ex01\"\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#road_network %>% \n  #check if measurement is withing boundaries (yes, or not (no))\n  #mutate( passes_through_box = ifelse( geometry >= bbox[2] & geometry <= bbox[4] & Lon >= bbox[1] & Lon <= bbox[3], \"yes\", \"no\" ) ) %>%\n  #group by SN\n  #group_by( SN ) %>%\n  #check if any value of 'passes_through_box' in a group is \"yes\", if so 'yes', else 'no'\n  #mutate( passes_through_box_anyime = ifelse( any( passes_through_box == \"yes\"), \"yes\", \"no\" ) )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# tmap_mode('view')\n```\n:::\n\n\nLets find all the columns of the raod_netowrk dataset and all the the unique values for each column:\n\n\\<todo\\>\n\ntry to constraint the minimum x coordinate and y coorinate and max x coordinate adn y coordinate to get only Singapore!\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a GPKG dataset - it lives in spData package\n#world_dataset <- system.file(\"shapes/world.gpkg\", package = \"spData\")\n\n#st_layers(world_dataset)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n  # tm_shape(road_network) + \n  #   tm_dots()\n#tm_shape(road_network) + \n#tm_lines()\n```\n:::\n\n\nAll the different file names:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#list<-list.files('../../data/takehomeassignment1', pattern=\"*\", full.names=TRUE)\n#list\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}